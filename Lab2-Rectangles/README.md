# Лабораторная работа №2

| Выполнил | Стасевич Иван Александрович |
| ------------- | ------------- |
| Группа  | 21ПИ1  |
| Почта в контесте  | iastasevich@edu.hse.ru  |

## Условие
[Ссылка на контест](https://contest.yandex.ru/contest/47517/problems/)  

Даны прямоугольники на плоскости с углами в целочисленных координатах ([1..10^9],[1..10^9]).
Требуется как можно быстрее выдавать ответ на вопрос «Скольким прямоугольникам принадлежит точка (x,y)?» (только нижние границы включены => (x1<= x) && (x<x2) && (y1<=y) && (y<y2)).


## Алгоритмы

| Алгоритм  | Временная сложность  | Подготовка  |  Реализация
| ------------- | ------------- | ------------- | ------------- |
| Переборный  | O(N)  | O(1)  | rectangles_naive.py  |
| На карте  | O(logN)  | O(N^3)  | rectangles_map.py  |
| На дереве  | O(logN)  | O(NlogN)  | rectangles_tree.py  |

## Графики

![image](https://user-images.githubusercontent.com/22497421/236197095-878935ca-8f97-441f-9ef7-1d57ab15b001.png)
![image](https://user-images.githubusercontent.com/22497421/236197156-66b73ebd-390e-4d38-b10e-b2d866981d10.png)
![image](https://user-images.githubusercontent.com/22497421/236197185-2c67d2eb-56cf-4dbf-ab80-39c2002711ae.png)


## Заключение

Переборный алгоритм отлично показывает себя на небольших данных (N <= 256), благодаря тому, что не требует подготовки.

Алгоритм на карте я считаю наименее предпочтительным: кубическая сложность подготовки обуславливает ощутимо долгое время всего алгоритма уже начиная с N = 512. Дальше N = 1024 тесты уже не смогли пройти за какое-либо адекватное время.

Алгоритм на дереве показал себя самым универсальным: все тесты проходит за разумное время, быстрое и надёжное решение. Однако он и самый сложный в реализации.

Таким образом, на небольших данных имеет смысл использовать алгоритм переборный алгоритм, во всех остальных случаях следует применять алгоритм на дереве.
